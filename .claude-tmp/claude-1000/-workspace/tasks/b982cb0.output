Traceback (most recent call last):
  File "/tmp/tmp.1DNkfVHQIw", line 1, in <module>
    {"exit_code":0,"stderr":"","stdout":"diff --git a/src/foundry_mcp/config/research.py b/src/foundry_mcp/config/research.py\nindex 26968b3..5cc8dcc 100644\n--- a/src/foundry_mcp/config/research.py\n+++ b/src/foundry_mcp/config/research.py\n@@ -95,6 +95,11 @@ class ResearchConfig:\n     deep_research_reflection_provider: Optional[str] = None  # Uses default_provider if not set\n     deep_research_reflection_timeout: float = 60.0  # Timeout per reflection call (seconds)\n \n+    # Deep research parallel topic researcher agents\n+    deep_research_enable_topic_agents: bool = False  # Master switch for per-topic ReAct loops in gathering\n+    deep_research_topic_max_searches: int = 3  # Max search iterations per topic (ReAct loop limit)\n+    deep_research_topic_reflection_provider: Optional[str] = None  # Uses default_provider if not set\n+\n     # Deep research configuration\n     deep_research_max_iterations: int = 3\n     deep_research_max_sub_queries: int = 5\n@@ -279,6 +284,10 @@ class ResearchConfig:\n             deep_research_enable_reflection=_parse_bool(data.get(\"deep_research_enable_reflection\", False)),\n             deep_research_reflection_provider=data.get(\"deep_research_reflection_provider\"),\n             deep_research_reflection_timeout=float(data.get(\"deep_research_reflection_timeout\", 60.0)),\n+            # Deep research parallel topic researcher agents\n+            deep_research_enable_topic_agents=_parse_bool(data.get(\"deep_research_enable_topic_agents\", False)),\n+            deep_research_topic_max_searches=int(data.get(\"deep_research_topic_max_searches\", 3)),\n+            deep_research_topic_reflection_provider=data.get(\"deep_research_topic_reflection_provider\"),\n             # Deep research configuration\n             deep_research_max_iterations=int(data.get(\"deep_research_max_iterations\", 3)),\n             deep_research_max_sub_queries=int(data.get(\"deep_research_max_sub_queries\", 5)),\ndiff --git a/src/foundry_mcp/core/research/models/deep_research.py b/src/foundry_mcp/core/research/models/deep_research.py\nindex 3df5985..291e04d 100644\n--- a/src/foundry_mcp/core/research/models/deep_research.py\n+++ b/src/foundry_mcp/core/research/models/deep_research.py\n@@ -24,6 +24,67 @@ from foundry_mcp.core.research.models.sources import (\n )\n \n \n+class TopicResearchResult(BaseModel):\n+    \"\"\"Result of a per-topic ReAct research loop.\n+\n+    Each sub-query can be investigated independently by a topic researcher\n+    that runs its own search \u2192 reflect \u2192 refine cycle. This model captures\n+    the outcome of that per-topic investigation.\n+    \"\"\"\n+\n+    sub_query_id: str = Field(..., description=\"ID of the SubQuery this result belongs to\")\n+    searches_performed: int = Field(default=0, description=\"Number of search iterations executed\")\n+    sources_found: int = Field(default=0, description=\"Total unique sources discovered for this topic\")\n+    per_topic_summary: Optional[str] = Field(\n+        default=None,\n+        description=\"LLM-generated summary of findings for this specific topic\",\n+    )\n+    reflection_notes: list[str] = Field(\n+        default_factory=list,\n+        description=\"Notes from per-topic reflection steps (e.g., identified gaps, query refinements)\",\n+    )\n+    refined_queries: list[str] = Field(\n+        default_factory=list,\n+        description=\"Refined queries generated during the ReAct loop\",\n+    )\n+    source_ids: list[str] = Field(\n+        default_factory=list,\n+        description=\"IDs of sources discovered by this topic researcher\",\n+    )\n+\n+\n+class Contradiction(BaseModel):\n+    \"\"\"A contradiction detected between research findings.\n+\n+    Identified during the analysis phase when multiple sources provide\n+    conflicting information on the same topic. Contradictions are surfaced\n+    in the synthesis prompt so the final report can address them explicitly.\n+    \"\"\"\n+\n+    id: str = Field(default_factory=lambda: f\"contra-{uuid4().hex[:8]}\")\n+    finding_ids: list[str] = Field(\n+        ...,\n+        description=\"IDs of the conflicting ResearchFinding objects\",\n+    )\n+    description: str = Field(\n+        ...,\n+        description=\"Description of the conflict between findings\",\n+    )\n+    resolution: Optional[str] = Field(\n+        default=None,\n+        description=\"Suggested resolution or explanation for the contradiction\",\n+    )\n+    preferred_source_id: Optional[str] = Field(\n+        default=None,\n+        description=\"ID of the more authoritative source, if determinable\",\n+    )\n+    severity: str = Field(\n+        default=\"minor\",\n+        description=\"Severity of the contradiction: 'major' or 'minor'\",\n+    )\n+    created_at: datetime = Field(default_factory=datetime.utcnow)\n+\n+\n class DeepResearchConfig(BaseModel):\n     \"\"\"Configuration for DEEP_RESEARCH workflow execution.\n \n@@ -159,6 +220,14 @@ class DeepResearchState(BaseModel):\n     sources: list[ResearchSource] = Field(default_factory=list)\n     findings: list[ResearchFinding] = Field(default_factory=list)\n     gaps: list[ResearchGap] = Field(default_factory=list)\n+    contradictions: list[Contradiction] = Field(\n+        default_factory=list,\n+        description=\"Contradictions detected between findings during analysis\",\n+    )\n+    topic_research_results: list[TopicResearchResult] = Field(\n+        default_factory=list,\n+        description=\"Per-topic research results from parallel topic researcher agents\",\n+    )\n \n     # Final output\n     report: Optional[str] = Field(\ndiff --git a/src/foundry_mcp/core/research/workflows/deep_research/core.py b/src/foundry_mcp/core/research/workflows/deep_research/core.py\nindex 15d4825..c61c9e6 100644\n--- a/src/foundry_mcp/core/research/workflows/deep_research/core.py\n+++ b/src/foundry_mcp/core/research/workflows/deep_research/core.py\n@@ -66,6 +66,9 @@ from foundry_mcp.core.research.workflows.deep_research.phases.clarification impo\n from foundry_mcp.core.research.workflows.deep_research.phases.gathering import (\n     GatheringPhaseMixin,\n )\n+from foundry_mcp.core.research.workflows.deep_research.phases.topic_research import (\n+    TopicResearchMixin,\n+)\n \n # Phase mixins\n from foundry_mcp.core.research.workflows.deep_research.phases.planning import (\n@@ -104,6 +107,7 @@ class DeepResearchWorkflow(\n     ClarificationPhaseMixin,\n     PlanningPhaseMixin,\n     GatheringPhaseMixin,\n+    TopicResearchMixin,\n     AnalysisPhaseMixin,\n     SynthesisPhaseMixin,\n     RefinementPhaseMixin,\ndiff --git a/src/foundry_mcp/core/research/workflows/deep_research/phases/__init__.py b/src/foundry_mcp/core/research/workflows/deep_research/phases/__init__.py\nindex c625777..56b527d 100644\n--- a/src/foundry_mcp/core/research/workflows/deep_research/phases/__init__.py\n+++ b/src/foundry_mcp/core/research/workflows/deep_research/phases/__init__.py\n@@ -10,11 +10,13 @@ from .gathering import GatheringPhaseMixin\n from .planning import PlanningPhaseMixin\n from .refinement import RefinementPhaseMixin\n from .synthesis import SynthesisPhaseMixin\n+from .topic_research import TopicResearchMixin\n \n __all__ = [\n     \"ClarificationPhaseMixin\",\n     \"PlanningPhaseMixin\",\n     \"GatheringPhaseMixin\",\n+    \"TopicResearchMixin\",\n     \"AnalysisPhaseMixin\",\n     \"SynthesisPhaseMixin\",\n     \"RefinementPhaseMixin\",\ndiff --git a/src/foundry_mcp/core/research/workflows/deep_research/phases/analysis.py b/src/foundry_mcp/core/research/workflows/deep_research/phases/analysis.py\nindex 5a1b363..ac61ba3 100644\n--- a/src/foundry_mcp/core/research/workflows/deep_research/phases/analysis.py\n+++ b/src/foundry_mcp/core/research/workflows/deep_research/phases/analysis.py\n@@ -17,7 +17,7 @@ import time\n from typing import TYPE_CHECKING, Any, Optional\n \n from foundry_mcp.core.research.document_digest import DocumentDigestor  # noqa: F401  # re-export for test patch targets\n-from foundry_mcp.core.research.models.deep_research import DeepResearchState\n+from foundry_mcp.core.research.models.deep_research import Contradiction, DeepResearchState\n from foundry_mcp.core.research.models.sources import SourceQuality\n from foundry_mcp.core.research.pdf_extractor import PDFExtractor  # noqa: F401  # re-export for test patch targets\n from foundry_mcp.core.research.summarization import ContentSummarizer  # noqa: F401  # re-export for test patch targets\n@@ -70,6 +70,7 @@ class AnalysisPhaseMixin(DigestStepMixin, AnalysisPromptsMixin, AnalysisParsingM\n \n         def _write_audit_event(self, *args: Any, **kwargs: Any) -> None: ...\n         def _check_cancellation(self, *args: Any, **kwargs: Any) -> None: ...\n+        async def _execute_provider_async(self, *args: Any, **kwargs: Any) -> Any: ...\n \n     async def _execute_analysis_async(\n         self,\n@@ -263,6 +264,32 @@ class AnalysisPhaseMixin(DigestStepMixin, AnalysisPromptsMixin, AnalysisParsingM\n                 except ValueError:\n                     pass  # Invalid quality value, skip\n \n+        # Contradiction detection: identify conflicting claims between findings\n+        if len(state.findings) >= 2:\n+            contradictions = await self._detect_contradictions(\n+                state=state,\n+                provider_id=provider_id or state.analysis_provider,\n+                timeout=timeout,\n+            )\n+            if contradictions:\n+                state.contradictions.extend(contradictions)\n+                self._write_audit_event(\n+                    state,\n+                    \"contradictions_detected\",\n+                    data={\n+                        \"count\": len(contradictions),\n+                        \"contradictions\": [\n+                            {\n+                                \"id\": c.id,\n+                                \"finding_ids\": c.finding_ids,\n+                                \"description\": c.description,\n+                                \"severity\": c.severity,\n+                            }\n+                            for c in contradictions\n+                        ],\n+                    },\n+                )\n+\n         # Save state\n         self.memory.save_deep_research(state)\n         self._write_audit_event(\n@@ -303,6 +330,125 @@ class AnalysisPhaseMixin(DigestStepMixin, AnalysisPromptsMixin, AnalysisParsingM\n                 \"finding_count\": len(parsed[\"findings\"]),\n                 \"gap_count\": len(parsed[\"gaps\"]),\n                 \"source_count\": len(state.sources),\n+                \"contradiction_count\": len(state.contradictions),\n                 \"parse_method\": parsed.get(\"parse_method\"),\n             },\n         )\n+\n+    async def _detect_contradictions(\n+        self,\n+        state: DeepResearchState,\n+        provider_id: str | None,\n+        timeout: float,\n+    ) -> list[Contradiction]:\n+        \"\"\"Detect contradictions between research findings via LLM.\n+\n+        Sends all findings to a fast model to identify conflicting claims.\n+        Returns a list of Contradiction objects.\n+\n+        Args:\n+            state: Current research state with findings\n+            provider_id: LLM provider to use\n+            timeout: Request timeout in seconds\n+\n+        Returns:\n+            List of detected Contradiction objects (may be empty)\n+        \"\"\"\n+        import json\n+\n+        from foundry_mcp.core.research.workflows.deep_research._helpers import extract_json\n+\n+        findings_text = []\n+        for f in state.findings:\n+            confidence_label = f.confidence.value if hasattr(f.confidence, \"value\") else str(f.confidence)\n+            findings_text.append(\n+                f\"- [{f.id}] ({confidence_label}) {f.content} \"\n+                f\"(sources: {', '.join(f.source_ids[:3])})\"\n+            )\n+\n+        if len(findings_text) < 2:\n+            return []\n+\n+        system_prompt = (\n+            \"You are a research quality analyst. Identify any contradictions or conflicting claims \"\n+            \"between the research findings provided.\\n\\n\"\n+            \"Respond with valid JSON:\\n\"\n+            '{\"contradictions\": [\\n'\n+            '  {\"finding_ids\": [\"find-xxx\", \"find-yyy\"], \"description\": \"what conflicts\", '\n+            '\"resolution\": \"suggested resolution\", \"preferred_source_id\": \"src-xxx or null\", '\n+            '\"severity\": \"major or minor\"}\\n'\n+            \"]}\\n\\n\"\n+            \"Rules:\\n\"\n+            \"- Only report genuine factual contradictions, not differences in emphasis or scope\\n\"\n+            \"- severity=major for direct factual conflicts, minor for nuance/interpretation differences\\n\"\n+            \"- preferred_source_id should reference the more authoritative source if determinable, otherwise null\\n\"\n+            \"- If no contradictions exist, return {\\\"contradictions\\\": []}\\n\"\n+            \"- Return ONLY valid JSON\"\n+        )\n+\n+        user_prompt = (\n+            f\"Research query: {state.original_query}\\n\\n\"\n+            f\"Findings to check for contradictions:\\n\"\n+            + \"\\n\".join(findings_text)\n+        )\n+\n+        try:\n+            result = await self._execute_provider_async(\n+                prompt=user_prompt,\n+                provider_id=provider_id or self.config.default_provider,\n+                model=None,\n+                system_prompt=system_prompt,\n+                timeout=min(timeout, 120.0),\n+                temperature=0.2,\n+                phase=\"contradiction_detection\",\n+                fallback_providers=[],\n+                max_retries=1,\n+                retry_delay=2.0,\n+            )\n+\n+            if not result.success:\n+                logger.warning(\"Contradiction detection LLM call failed: %s\", result.error)\n+                return []\n+\n+            if result.tokens_used:\n+                state.total_tokens_used += result.tokens_used\n+\n+            json_str = extract_json(result.content)\n+            if not json_str:\n+                logger.warning(\"No JSON found in contradiction detection response\")\n+                return []\n+\n+            data = json.loads(json_str)\n+            raw_contradictions = data.get(\"contradictions\", [])\n+            if not isinstance(raw_contradictions, list):\n+                return []\n+\n+            contradictions = []\n+            for c in raw_contradictions:\n+                if not isinstance(c, dict):\n+                    continue\n+                finding_ids = c.get(\"finding_ids\", [])\n+                description = c.get(\"description\", \"\").strip()\n+                if not finding_ids or not description:\n+                    continue\n+                # Validate finding IDs exist in state\n+                valid_ids = [fid for fid in finding_ids if any(f.id == fid for f in state.findings)]\n+                if len(valid_ids) < 2:\n+                    continue\n+\n+                contradictions.append(\n+                    Contradiction(\n+                        finding_ids=valid_ids,\n+                        description=description,\n+                        resolution=c.get(\"resolution\"),\n+                        preferred_source_id=c.get(\"preferred_source_id\"),\n+                        severity=c.get(\"severity\", \"minor\") if c.get(\"severity\") in (\"major\", \"minor\") else \"minor\",\n+                    )\n+                )\n+\n+            logger.info(\"Contradiction detection found %d contradiction(s)\", len(contradictions))\n+            return contradictions\n+\n+        except Exception as exc:\n+            logger.warning(\"Contradiction detection failed: %s. Continuing without.\", exc)\n+            return []\ndiff --git a/src/foundry_mcp/core/research/workflows/deep_research/phases/gathering.py b/src/foundry_mcp/core/research/workflows/deep_research/phases/gathering.py\nindex d684b89..8cb8a70 100644\n--- a/src/foundry_mcp/core/research/workflows/deep_research/phases/gathering.py\n+++ b/src/foundry_mcp/core/research/workflows/deep_research/phases/gathering.py\n@@ -25,6 +25,7 @@ from foundry_mcp.core.research.providers import (\n     TavilySearchProvider,\n )\n from foundry_mcp.core.research.providers.resilience import get_resilience_manager\n+from foundry_mcp.core.research.models.deep_research import TopicResearchResult\n from foundry_mcp.core.research.workflows.base import WorkflowResult\n from foundry_mcp.core.research.workflows.deep_research.source_quality import (\n     _normalize_title,\n@@ -51,6 +52,7 @@ class GatheringPhaseMixin:\n \n         def _write_audit_event(self, *args: Any, **kwargs: Any) -> None: ...\n         def _check_cancellation(self, *args: Any, **kwargs: Any) -> None: ...\n+        async def _execute_topic_research_async(self, *args: Any, **kwargs: Any) -> Any: ...\n \n     # ------------------------------------------------------------------\n     # Search provider configuration\n@@ -390,6 +392,123 @@ class GatheringPhaseMixin:\n         total_sources_added = 0\n         failed_queries = 0\n \n+        # --- Topic agent delegation path ---\n+        # When topic agents are enabled, each sub-query runs its own ReAct\n+        # loop (search \u2192 reflect \u2192 refine \u2192 search) instead of flat parallel search.\n+        if getattr(self.config, \"deep_research_enable_topic_agents\", False):\n+            topic_max_searches = getattr(self.config, \"deep_research_topic_max_searches\", 3)\n+\n+            self._check_cancellation(state)\n+\n+            async def run_topic_agent(sq):\n+                return await self._execute_topic_research_async(\n+                    sub_query=sq,\n+                    state=state,\n+                    available_providers=available_providers,\n+                    max_searches=topic_max_searches,\n+                    timeout=timeout,\n+                    seen_urls=seen_urls,\n+                    seen_titles=seen_titles,\n+                    state_lock=state_lock,\n+                    semaphore=semaphore,\n+                )\n+\n+            try:\n+                tasks = [run_topic_agent(sq) for sq in pending_queries]\n+                topic_results = await asyncio.gather(*tasks, return_exceptions=True)\n+\n+                for i, result in enumerate(topic_results):\n+                    if isinstance(result, BaseException):\n+                        failed_queries += 1\n+                        logger.error(\"Topic agent exception for sub-query %s: %s\", pending_queries[i].id, result)\n+                    else:\n+                        total_sources_added += result.sources_found\n+                        state.topic_research_results.append(result)\n+                        if result.sources_found == 0:\n+                            failed_queries += 1\n+\n+            except asyncio.CancelledError:\n+                logger.warning(\"Gathering phase (topic agents) cancelled for research %s\", state.id)\n+                try:\n+                    state.updated_at = datetime.now(timezone.utc)\n+                    self.memory.save_deep_research(state)\n+                except Exception as save_exc:\n+                    logger.error(\"Error saving state during topic agent cancellation: %s\", save_exc)\n+                raise\n+            finally:\n+                state.updated_at = datetime.now(timezone.utc)\n+\n+            # Save state and emit audit events (same as flat path)\n+            circuit_breaker_states_end = {\n+                name: resilience_manager.get_breaker_state(name).value for name in configured_provider_names\n+            }\n+            self.memory.save_deep_research(state)\n+            self._write_audit_event(\n+                state,\n+                \"gathering_result\",\n+                data={\n+                    \"source_count\": total_sources_added,\n+                    \"queries_executed\": len(pending_queries),\n+                    \"queries_failed\": failed_queries,\n+                    \"unique_urls\": len(seen_urls),\n+                    \"providers_used\": [p.get_provider_name() for p in available_providers],\n+                    \"providers_unavailable\": unavailable_providers,\n+                    \"circuit_breaker_states_start\": circuit_breaker_states_start,\n+                    \"circuit_breaker_states_end\": circuit_breaker_states_end,\n+                    \"topic_agents_enabled\": True,\n+                    \"topic_max_searches\": topic_max_searches,\n+                },\n+            )\n+\n+            success = total_sources_added > 0 or failed_queries < len(pending_queries)\n+            error_msg = None\n+            if not success and failed_queries == len(pending_queries):\n+                error_msg = (\n+                    f\"All {failed_queries} topic researchers failed to find sources. \"\n+                    f\"Providers used: {[p.get_provider_name() for p in available_providers]}\"\n+                )\n+\n+            logger.info(\n+                \"Gathering phase (topic agents) complete: %d sources from %d queries (%d failed)\",\n+                total_sources_added,\n+                len(pending_queries),\n+                failed_queries,\n+            )\n+\n+            phase_duration_ms = (time.perf_counter() - phase_start_time) * 1000\n+            self._write_audit_event(\n+                state,\n+                \"phase.completed\",\n+                data={\n+                    \"phase_name\": \"gathering\",\n+                    \"iteration\": state.iteration,\n+                    \"task_id\": state.id,\n+                    \"duration_ms\": phase_duration_ms,\n+                    \"topic_agents_enabled\": True,\n+                },\n+            )\n+            get_metrics().histogram(\n+                \"foundry_mcp_research_phase_duration_seconds\",\n+                phase_duration_ms / 1000.0,\n+                labels={\"phase_name\": \"gathering\", \"status\": \"success\" if success else \"error\"},\n+            )\n+\n+            return WorkflowResult(\n+                success=success,\n+                content=f\"Gathered {total_sources_added} sources from {len(pending_queries)} topic researchers\",\n+                error=error_msg,\n+                metadata={\n+                    \"research_id\": state.id,\n+                    \"source_count\": total_sources_added,\n+                    \"queries_executed\": len(pending_queries),\n+                    \"queries_failed\": failed_queries,\n+                    \"unique_urls\": len(seen_urls),\n+                    \"providers_used\": [p.get_provider_name() for p in available_providers],\n+                    \"topic_agents_enabled\": True,\n+                },\n+            )\n+\n+        # --- Flat parallel search path (original behavior) ---\n         try:\n \n             async def execute_sub_query(sub_query) -> tuple[int, Optional[str]]:\ndiff --git a/src/foundry_mcp/core/research/workflows/deep_research/phases/synthesis.py b/src/foundry_mcp/core/research/workflows/deep_research/phases/synthesis.py\nindex 843c205..8e14250 100644\n--- a/src/foundry_mcp/core/research/workflows/deep_research/phases/synthesis.py\n+++ b/src/foundry_mcp/core/research/workflows/deep_research/phases/synthesis.py\n@@ -351,6 +351,25 @@ IMPORTANT: Return ONLY the markdown report, no preamble or meta-commentary. Do N\n                 prompt_parts.append(f\"  Sources: {source_refs}\")\n             prompt_parts.append(\"\")\n \n+        # Add detected contradictions\n+        if state.contradictions:\n+            prompt_parts.append(\"## Contradictions Detected\")\n+            prompt_parts.append(\n+                \"The following contradictions were identified between findings. \"\n+                \"Address these explicitly in the report's 'Conflicting Information' section.\"\n+            )\n+            for contradiction in state.contradictions:\n+                severity_label = contradiction.severity.upper()\n+                prompt_parts.append(f\"- [{severity_label}] {contradiction.description}\")\n+                prompt_parts.append(f\"  Conflicting findings: {', '.join(contradiction.finding_ids)}\")\n+                if contradiction.resolution:\n+                    prompt_parts.append(f\"  Suggested resolution: {contradiction.resolution}\")\n+                if contradiction.preferred_source_id:\n+                    cn = id_to_citation.get(contradiction.preferred_source_id)\n+                    if cn is not None:\n+                        prompt_parts.append(f\"  Preferred source: [{cn}]\")\n+            prompt_parts.append(\"\")\n+\n         # Add knowledge gaps\n         if state.gaps:\n             prompt_parts.append(\"## Knowledge Gaps Identified\")\n","truncated":false}
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             ^^^^^
NameError: name 'false' is not defined. Did you mean: 'False'?
